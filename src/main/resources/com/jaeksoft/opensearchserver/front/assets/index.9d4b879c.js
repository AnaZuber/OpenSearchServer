(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){e.exports=a(29)},19:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),s=a(12);a(18),a(19);const c=e=>e.enabled?e.selectedView===e.view?n.a.createElement("a",{className:"nav nav-link active",href:"#"},e.view," ",n.a.createElement("span",{className:"sr-only"},"(current)")):n.a.createElement("a",{className:"nav-item nav-link",onClick:()=>e.setSelectedView(e.view),href:"#"},e.view):n.a.createElement("a",{className:"nav-item nav-link disabled",href:"#"},e.view),d=e=>(Object(l.useEffect)(()=>{},[e.selectedIndex]),e.selectedIndex?n.a.createElement("span",{className:"navbar-text"},e.selectedIndex):null);var r=e=>(Object(l.useEffect)(()=>{},[e.selectedIndex]),n.a.createElement("nav",{className:"navbar sticky-top navbar-light navbar-expand bg-light"},n.a.createElement("span",{className:"navbar-brand text-secondary"},n.a.createElement("small",null,"OpenSearchServer 2.0")),n.a.createElement("div",{className:"collapse navbar-collapse"},n.a.createElement("div",{className:"navbar-nav mr-auto"},n.a.createElement(c,{selectedView:e.selectedView,setSelectedView:e.setSelectedView,enabled:!0,view:"Indices"}),n.a.createElement(c,{selectedView:e.selectedView,setSelectedView:e.setSelectedView,enabled:e.selectedIndex,view:"Fields"}),n.a.createElement(c,{selectedView:e.selectedView,setSelectedView:e.setSelectedView,enabled:e.selectedIndex,view:"Ingest"}),n.a.createElement(c,{selectedView:e.selectedView,setSelectedView:e.setSelectedView,enabled:e.selectedIndex,view:"Query"})),n.a.createElement(d,{selectedIndex:e.selectedIndex}))));function i(e){return e.spinning?n.a.createElement("div",{className:"spinner-border spinner-border-sm",role:"status"},n.a.createElement("span",{className:"sr-only"},"Loading...")):""}var o=function(e){return Object(l.useEffect)(()=>{},[e.error,e.task,e.spinning]),e.error&&e.task?n.a.createElement(n.a.Fragment,null,n.a.createElement(i,{spinning:e.spinning}),n.a.createElement("div",{className:"text-danger float-right"},n.a.createElement("small",null,e.task,": ",e.error))):e.error?n.a.createElement(n.a.Fragment,null,n.a.createElement(i,{spinning:e.spinning}),n.a.createElement("div",{className:"text-danger float-right"},n.a.createElement("small",null,e.error))):e.task?n.a.createElement(n.a.Fragment,null,n.a.createElement(i,{spinning:e.spinning}),n.a.createElement("div",{className:"text-success float-right"},n.a.createElement("small",null,e.task))):n.a.createElement(n.a.Fragment,null,n.a.createElement(i,{spinning:e.spinning})," ")},m=a(6),u=a.n(m);a(27),a(28);var x=e=>null==e.setValue?n.a.createElement(u.a,{mode:"json",theme:"github",editorProps:{$blockScrolling:!1},value:e.value,readOnly:!0,height:"100%",width:"100%",setOptions:{useWorker:!1}}):n.a.createElement(u.a,{mode:"json",theme:"github",editorProps:{$blockScrolling:!1},value:e.value,height:"100%",width:"100%",setOptions:{useWorker:!1},onChange:t=>e.setValue(t)});function b(e,t,a,l){fetch(e,t).then(e=>Promise.all([e.ok,e.json()])).then(([e,t])=>e?a(t):l(t.message)).catch(e=>l(e.message))}var E=e=>{const[t,a]=Object(l.useState)(null),[s,c]=Object(l.useState)(null),[d,r]=Object(l.useState)(!1),[i,m]=Object(l.useState)("");return Object(l.useEffect)(()=>{},[e.selectedIndex]),n.a.createElement("div",{className:"border p-0 mt-1 ml-1 bg-light rounded flex-fill d-flex flex-column"},n.a.createElement("div",{className:"bg-light text-secondary p-1"},"QUERYING ",n.a.createElement(o,{task:s,error:t,spinning:d})),n.a.createElement("div",{className:"d-flex flex-fill"},n.a.createElement("div",{className:"w-50 flex-fill"},n.a.createElement(x,{value:e.queryJson,setValue:e.setQueryJson})),n.a.createElement("div",{className:"w-50 flex-fill"},n.a.createElement(x,{value:i}))),n.a.createElement("form",{className:"form-inline pr-1 pb-1"},n.a.createElement("div",{className:"pt-1 pl-1"},n.a.createElement("button",{className:"btn btn-primary",onClick:()=>function(){if(null==e.selectedIndex||""===e.selectedIndex)return void a("Please select an index.");a(null),c("Parsing..."),r(!0);var t=null;try{t=function(){const t=e.queryJson;if(null===t||""===t)throw"Nothing to index";return JSON.parse(t)}(),e.setQueryJson(JSON.stringify(t,void 0,2))}catch(e){return a(e.message),c(null),void r(!1)}c("Querying..."),b(e.oss+"/ws/indexes/"+e.selectedIndex+"/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e=>{m(JSON.stringify(e,void 0,2)),c("Query successful."),r(!1)},e=>{m(""),a(e),c(null),r(!1)})}()},"QUERY"))))};const f=e=>n.a.createElement("button",{className:"btn btn-danger shadow-none btn-block",type:"button",onClick:()=>e.doDelete(e.name)},"Delete"),p=e=>e.name?n.a.createElement("button",{className:"btn btn-primary shadow-none btn-block",type:"button",onClick:()=>e.doCreate(e.name)},"Create"):n.a.createElement("button",{className:"btn btn-primary shadow-none btn-block",type:"button",disabled:!0},"Create");var S=e=>e.name&&e.name===e.selectedName?n.a.createElement(f,{name:e.name,doDelete:e.doDelete}):n.a.createElement(p,{name:e.name,doCreate:e.doCreate});var h=e=>n.a.createElement("form",null,n.a.createElement("div",{className:"form-row p-1"},n.a.createElement("div",{className:"form-group col-md-6"},n.a.createElement("input",{type:"text",className:"form-control shadow-none",placeholder:"Index name",title:"The index name","aria-label":"index name","aria-describedby":"Enter the index name",value:e.indexName,onChange:t=>e.setIndexName(t.target.value)})),n.a.createElement("div",{className:"form-group col-md-4"},n.a.createElement("input",{type:"text",className:"form-control shadow-none",placeholder:"Primary key",title:"The primary key","aria-label":"primary key","aria-describedby":"Enter the primary key",value:e.primaryKey,onChange:t=>e.setPrimaryKey(t.target.value)})),n.a.createElement("div",{className:"form-group col-md-2"},n.a.createElement(S,{name:e.indexName,selectedName:e.selectedIndex,doDelete:t=>e.doDelete(t),doCreate:t=>e.doCreate(t)}))));const v=e=>{return e.selectedIndex===e.index?n.a.createElement("tr",{className:"table-active",onClick:()=>e.setSelectedIndex(e.index)},n.a.createElement("td",{className:"p-1 m-1"},e.index),n.a.createElement("td",{className:"p-1 m-1"},null==(t=e.selectedIndexStatus)||null==t.settings?null:t.settings.primary_key),n.a.createElement("td",{className:"p-1 m-1"},function(e){return null==e?null:e.num_docs}(e.selectedIndexStatus))):n.a.createElement("tr",{onClick:()=>e.setSelectedIndex(e.index)},n.a.createElement("td",{className:"p-1 m-1"},e.index),n.a.createElement("td",{colSpan:"2",title:"Select the line to see the primary key and the number of docs",className:"p-1 m-1"}));var t};var g=e=>{if(!e.indices)return null;const t=(Array.isArray(e.indices)?e.indices:Object.keys(e.indices)).map((t,a)=>n.a.createElement(v,{key:a,index:t,selectedIndex:e.selectedIndex,setSelectedIndex:e.setSelectedIndex,selectedIndexStatus:e.selectedIndexStatus,setSelectedIndexStatus:e.setSelectedIndexStatus}));return n.a.createElement("div",{className:"flex-fill"},n.a.createElement("table",{className:"table table-hover table-sm table-striped mb-0"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Index name"),n.a.createElement("th",{title:"Select an index to see the primary key"},"Primary key"),n.a.createElement("th",{title:"Select an index to see the number of documents"},"Num docs"))),n.a.createElement("tbody",null,t)))};var N=function(e){const[t,a]=Object(l.useState)(null),[s,c]=Object(l.useState)(null),[d,r]=Object(l.useState)(!1),[i,m]=Object(l.useState)([]),[u,x]=Object(l.useState)(""),[E,f]=Object(l.useState)("id");return Object(l.useEffect)(()=>{p()},[]),n.a.createElement("div",{className:"border p-0 mt-1 ml-1 bg-light rounded d-flex flex-fill flex-column"},n.a.createElement("div",{className:"bg-light text-secondary p-1"},"INDICES ",n.a.createElement(o,{task:t,error:s,spinning:d})),n.a.createElement(h,{indexName:u,setIndexName:e=>x(e),selectedIndex:e.selectedIndex,setPrimaryKey:e=>f(e),primaryKey:E,doCreate:t=>function(t){S("Creating index "+t),b(e.oss+"/ws/indexes/"+u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({primary_key:E,record_field:"$record$"})},a=>{v("Index created"),x(""),e.setSelectedIndex(t),p()},e=>v(null,e))}(t),doDelete:t=>function(t){S("Deleting index "+t),b(e.oss+"/ws/indexes/"+t,{method:"DELETE"},t=>{e.setSelectedIndex(null),v("Index deleted"),p()},e=>v(null,e))}(t)}),n.a.createElement(g,{indices:i,selectedIndex:e.selectedIndex,setSelectedIndex:function(t){e.setSelectedIndexStatus({}),function(t){if(!t)return null;S(),b(e.oss+"/ws/indexes/"+t,null,t=>{e.setSelectedIndexStatus(t),v()},e=>v(null,e))}(t),e.setSelectedIndex(t)},selectedIndexStatus:e.selectedIndexStatus,setSelectedIndexStatus:e.setSelectedIndexStatus}));function p(){S(),b(e.oss+"/ws/indexes",null,e=>{v(),m(e)},e=>v(null,e))}function S(e){r(!0),e&&(a(e),c(null))}function v(e,t){r(!1),e&&a(e),t?c(t):e&&c(null)}};var I=e=>n.a.createElement(N,{oss:e.oss,selectedIndex:e.selectedIndex,setSelectedIndex:e.setSelectedIndex,selectedIndexStatus:e.selectedIndexStatus,setSelectedIndexStatus:e.setSelectedIndexStatus});var y=e=>{const[t,a]=Object(l.useState)(!0),[s,c]=Object(l.useState)(!1),[d,r]=Object(l.useState)(!1),[i,o]=Object(l.useState)(!1),[m,u]=Object(l.useState)("text"),[x,b]=Object(l.useState)("");function E(e){const t="attr"+e.attributeKey;return n.a.createElement("div",{key:t,className:"form-check form-check-inline"},n.a.createElement("input",{className:"form-check-input",type:"checkbox",id:t,value:e.attributeKey,checked:e.checked,onChange:t=>e.setAttribute(t.target.checked)}),n.a.createElement("label",{className:"form-check-label",htmlFor:t},e.attributeLabel))}const f=["text","integer","long","double","float"].map(e=>n.a.createElement("option",{key:e,value:e},e));function p(e){return n.a.createElement("select",{className:"custom-select shadow-none rounded-0",value:e.value,onChange:t=>e.setValue(t.target.value)},f)}const h=["","lowercase","ascii","arabic","bulgarian","cjk","czech","danish","dutch","english","french","finnish","german","greek","hindi","hungarian","irish","italian","lithuanian","latvian","norwegian","polish","portuguese","romanian","russian","spanish","swedish","turkish"].map(e=>n.a.createElement("option",{key:e,value:e},e));function v(e){return n.a.createElement("select",{className:"custom-select shadow-none rounded-0",value:e.value,onChange:t=>e.setValue(t.target.value)},h)}return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"input-group p-1"},n.a.createElement("input",{type:"text",className:"form-control shadow-none rounded-0","aria-label":"edit field name","aria-describedby":"edit field name",value:e.editFieldName,onChange:t=>e.setEditFieldName(t.target.value)}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement(p,{value:m,setValue:e=>u(e)}),n.a.createElement(v,{value:x,setValue:e=>b(e)}),n.a.createElement(S,{name:e.editFieldName,selectedName:e.selectedField,doDelete:t=>e.doDeleteField(t),doCreate:a=>{return l=a,void e.doCreateField(l,{type:m.toUpperCase(),stored:s,index:t,facet:d,sort:i,analyzer:""===x?null:x});var l}}))),n.a.createElement("div",{className:"p-1"},n.a.createElement(E,{checked:t,attributeKey:"index",attributeLabel:"indexed",setAttribute:e=>a(e)}),n.a.createElement(E,{checked:s,attributeKey:"stored",attributeLabel:"stored",setAttribute:e=>c(e)}),n.a.createElement(E,{checked:d,attributeKey:"facet",attributeLabel:"faceted",setAttribute:e=>r(e)}),n.a.createElement(E,{checked:i,attributeKey:"sort",attributeLabel:"sorted",setAttribute:e=>o(e)})))};var w=e=>e.value?n.a.createElement("span",{className:"badge badge-dark"},e.true):n.a.createElement("span",{className:"badge badge-light"},e.false);const k=e=>{if(Object(l.useEffect)(()=>{},[e.fields]),!e.fields)return null;const t=Object.keys(e.fields).map((t,a)=>n.a.createElement(O,{key:a,fieldName:t,fieldProperties:e.fields[t],selectedField:e.selectedField,doSelectField:t=>e.doSelectField(t)}));return n.a.createElement("table",{className:"table table-hover table-sm table-striped table-light"},n.a.createElement("thead",{className:"thead-light"},n.a.createElement("tr",null,n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Type"),n.a.createElement("th",null,"Analyzer"),n.a.createElement("th",null,"Attributes"))),n.a.createElement("tbody",null,t))},O=e=>e.selectedField===e.fieldName?n.a.createElement("tr",{className:"table-active",onClick:()=>e.doSelectField(e.fieldName)},n.a.createElement(j,{fieldName:e.fieldName,fieldProperties:e.fieldProperties})):n.a.createElement("tr",{onClick:()=>e.doSelectField(e.fieldName)},n.a.createElement(j,{fieldName:e.fieldName,fieldProperties:e.fieldProperties})),j=e=>n.a.createElement(n.a.Fragment,null,n.a.createElement("td",{className:"p-1 m-0"},e.fieldName),n.a.createElement("td",{className:"p-1 m-0 text-lowercase"},e.fieldProperties.type),n.a.createElement("td",{className:"p-1 m-0 text-lowercase"},e.fieldProperties.analyzer),n.a.createElement("td",{className:"p-1 m-0"},n.a.createElement(w,{true:"indexed",false:"indexed",value:e.fieldProperties.index}),n.a.createElement(w,{true:"stored",false:"stored",value:e.fieldProperties.stored}),n.a.createElement(w,{true:"sorted",false:"sorted",value:e.fieldProperties.sort}),n.a.createElement(w,{true:"facet",false:"facet",value:e.fieldProperties.facet})));var F=e=>{const[t,a]=Object(l.useState)(null),[s,c]=Object(l.useState)(null),[d,r]=Object(l.useState)(!1),[i,m]=Object(l.useState)({}),[u,x]=Object(l.useState)("");return Object(l.useEffect)(()=>{E()},[e.selectedIndex]),e.selectedIndex?n.a.createElement("div",{className:"border p-0 mt-1 ml-1 bg-light rounded"},n.a.createElement("div",{className:"bg-light text-secondary p-1"},"FIELDS ",n.a.createElement(o,{task:t,error:s,spinning:d})),n.a.createElement(y,{editFieldName:u,setEditFieldName:e=>x(e),selectedField:e.selectedField,doCreateField:(t,a)=>function(t,a){f("Creating field "+t),b(e.oss+"/ws/indexes/"+e.selectedIndex+"/fields/"+t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)},a=>{p("Field created"),x(""),e.setSelectedField(t),E()},e=>p(null,e))}(t,a),doDeleteField:t=>function(t){f("Deleting field "+t),b(e.oss+"/ws/indexes/"+e.selectedIndex+"/fields/"+t,{method:"DELETE"},t=>{p("Field deleted"),e.setSelectedField(null),E()},e=>p(null,e))}(t)}),n.a.createElement(k,{oss:e.oss,fields:i,selectedField:e.selectedField,doSelectField:t=>e.setSelectedField(t)})):null;function E(){const t=e.selectedIndex;t&&(f(),b(e.oss+"/ws/indexes/"+t+"/fields",null,e=>{p(),m(e)},e=>p(null,e.message)))}function f(e){r(!0),e&&(a(e),c(null))}function p(e,t){r(!1),e&&a(e),t?c(t):e&&c(null)}};var J=e=>n.a.createElement(F,{oss:e.oss,selectedIndex:e.selectedIndex,selectedField:e.selectedField,setSelectedField:e.setSelectedField});var C=e=>{const[t,a]=Object(l.useState)(null),[s,c]=Object(l.useState)(null),[d,r]=Object(l.useState)(!1);return Object(l.useEffect)(()=>{e.indexJson||m()},[e.selectedIndex]),n.a.createElement("div",{className:"border p-0 mt-1 ml-1 bg-light rounded flex-fill d-flex flex-column"},n.a.createElement("div",{className:"bg-light text-secondary p-1"},"INGEST ",n.a.createElement(o,{task:s,error:t,spinning:d})),n.a.createElement(x,{value:e.indexJson,setValue:e.setIndexJson}),n.a.createElement("form",{className:"form-inline pr-1 pb-1"},n.a.createElement("div",{className:"pt-1 pl-1"},n.a.createElement("button",{className:"btn btn-outline-primary",onClick:()=>m()},"Generate example")),n.a.createElement("div",{className:"pt-1 pl-1"},n.a.createElement("button",{className:"btn btn-primary",onClick:()=>function(){if(!i())return;a(null),c("Parsing..."),r(!0);var t=null;try{t=function(){const t=e.indexJson;if(null===t||""===t)throw"Nothing to index";return JSON.parse(t)}(),e.setIndexJson(JSON.stringify(t,void 0,2))}catch(e){return a(e.message),c(null),void r(!1)}b(e.oss+"/ws/indexes/"+e.selectedIndex+"/json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e=>{var t;switch(e){case 0:t="Nothing has been indexed.";break;case 1:t="One record has been indexed.";break;default:t=e+" records have been indexed."}c(t),r(!1)},e=>{a(e),c(null),r(!1)})}()},"INDEX"))));function i(){return null!=e.selectedIndex&&""!==e.selectedIndex||(a("Please select an index."),!1)}function m(){i()&&(a(null),c("Collecting sample..."),r(!0),b(e.oss+"/ws/indexes/"+e.selectedIndex+"/json/samples?count=1",{method:"GET"},t=>{e.setIndexJson(JSON.stringify(t,void 0,2)),c(null),r(!1)},e=>{a(e),c(null),r(!1)}))}};var V=e=>{switch(e.selectedView){case"Indices":return n.a.createElement(I,{oss:e.oss,selectedIndex:e.selectedIndex,setSelectedIndex:e.setSelectedIndex,selectedIndexStatus:e.selectedIndexStatus,setSelectedIndexStatus:e.setSelectedIndexStatus,selectedField:e.selectedField,setSelectedField:e.setSelectedField});case"Fields":return n.a.createElement(J,{oss:e.oss,selectedIndex:e.selectedIndex,setSelectedIndex:e.setSelectedIndex,indexJson:e.indexJson,setIndexJson:e.setIndexJson});case"Ingest":return n.a.createElement(C,{oss:e.oss,selectedIndex:e.selectedIndex,setSelectedIndex:e.setSelectedIndex,indexJson:e.indexJson,setIndexJson:e.setIndexJson});case"Query":return n.a.createElement(E,{oss:e.oss,selectedIndex:e.selectedIndex,setSelectedIndex:e.setSelectedIndex,queryJson:e.queryJson,setQueryJson:e.setQueryJson});default:return null}};var P=()=>{const[e]=Object(l.useState)("http://localhost:9090"),[t,a]=Object(l.useState)("Indices"),[s,c]=Object(l.useState)(""),[d,i]=Object(l.useState)({}),[o,m]=Object(l.useState)(""),[u,x]=Object(l.useState)(""),[b,E]=Object(l.useState)(JSON.stringify(JSON.parse('{"query":{"MatchAllDocs": {}},"returned_fields":["*"]}'),void 0,2));return n.a.createElement("div",{className:"vh-100 m-0 p-0 d-flex flex-column"},n.a.createElement(r,{oss:e,selectedIndex:s,selectedView:t,setSelectedView:a}),n.a.createElement("div",{className:"container-fluid flex-fill d-flex flex-column pl-0 pr-1"},n.a.createElement(V,{oss:e,selectedView:t,selectedIndex:s,setSelectedIndex:function(e){c(e),m("")},selectedIndexStatus:d,setSelectedIndexStatus:i,selectedField:o,setSelectedField:m,indexJson:u,setIndexJson:x,queryJson:b,setQueryJson:E})))};Object(s.render)(n.a.createElement(n.a.StrictMode,null,n.a.createElement(P,{className:"test"})),document.getElementById("root"))}},[[13,1,2]]]);