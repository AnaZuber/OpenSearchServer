(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){e.exports=a(29)},19:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(12);a(18),a(19);const c=e=>e.enabled?e.selectedView===e.view?s.a.createElement("a",{className:"nav nav-link active",href:"#"},e.view," ",s.a.createElement("span",{className:"sr-only"},"(current)")):s.a.createElement("a",{className:"nav-item nav-link",onClick:()=>e.setSelectedView(e.view),href:"#"},e.view):s.a.createElement("a",{className:"nav-item nav-link disabled",href:"#"},e.view),r=e=>(Object(n.useEffect)(()=>{},[e.selectedIndex]),e.selectedIndex?s.a.createElement("span",{className:"navbar-text"},e.selectedIndex):null);var d=e=>(Object(n.useEffect)(()=>{},[e.selectedIndex]),s.a.createElement("nav",{className:"navbar navbar-light navbar-expand bg-light"},s.a.createElement("span",{className:"navbar-brand text-secondary"},s.a.createElement("small",null,"OpenSearchServer 2.0")),s.a.createElement("div",{className:"collapse navbar-collapse"},s.a.createElement("div",{className:"navbar-nav mr-auto"},s.a.createElement(c,{selectedView:e.selectedView,setSelectedView:e.setSelectedView,enabled:!0,view:"Indices"}),s.a.createElement(c,{selectedView:e.selectedView,setSelectedView:e.setSelectedView,enabled:e.selectedIndex,view:"Fields"}),s.a.createElement(c,{selectedView:e.selectedView,setSelectedView:e.setSelectedView,enabled:e.selectedIndex,view:"Ingest"}),s.a.createElement(c,{selectedView:e.selectedView,setSelectedView:e.setSelectedView,enabled:e.selectedIndex,view:"Query"}),s.a.createElement(c,{selectedView:e.selectedView,setSelectedView:e.setSelectedView,enabled:!0,view:"Web Crawl"})),s.a.createElement(r,{selectedIndex:e.selectedIndex}))));function i(e){return e.spinning?s.a.createElement("div",{className:"spinner-border spinner-border-sm",role:"status"},s.a.createElement("span",{className:"sr-only"},"Loading...")):""}var o=function(e){return Object(n.useEffect)(()=>{},[e.error,e.task,e.spinning]),e.error&&e.task?s.a.createElement(s.a.Fragment,null,s.a.createElement(i,{spinning:e.spinning}),s.a.createElement("div",{className:"text-danger float-right"},s.a.createElement("small",null,e.task,": ",e.error))):e.error?s.a.createElement(s.a.Fragment,null,s.a.createElement(i,{spinning:e.spinning}),s.a.createElement("div",{className:"text-danger float-right"},s.a.createElement("small",null,e.error))):e.task?s.a.createElement(s.a.Fragment,null,s.a.createElement(i,{spinning:e.spinning}),s.a.createElement("div",{className:"text-success float-right"},s.a.createElement("small",null,e.task))):s.a.createElement(s.a.Fragment,null,s.a.createElement(i,{spinning:e.spinning})," ")},m=a(6),u=a.n(m);a(27),a(28);var b=e=>null==e.setValue?s.a.createElement(u.a,{mode:"json",theme:"github",editorProps:{$blockScrolling:!1},value:e.value,readOnly:!0,height:"100%",width:"100%",setOptions:{useWorker:!1}}):s.a.createElement(u.a,{mode:"json",theme:"github",editorProps:{$blockScrolling:!1},value:e.value,height:"100%",width:"100%",setOptions:{useWorker:!1},onChange:t=>e.setValue(t)});function E(e,t,a,n){n||(n=console.log),fetch(e,t).then(e=>Promise.all([e.ok,e.json()])).then(([e,t])=>e?a(t):n(t.message)).catch(e=>n(e.message))}function S(e){if(null===e||""===e)throw"Nothing to index";return JSON.parse(e)}var p=a(31);const f=e=>0==e.pos?s.a.createElement("pre",{className:"small"},s.a.createElement("code",null,e.queryTypeDetail||e.queryType)):s.a.createElement("small",null,e.queryType);var x=e=>{const[t,a]=Object(n.useState)([]),[l,c]=Object(n.useState)(""),[r,d]=Object(n.useState)(""),[i,o]=Object(n.useState)("");if(Object(n.useEffect)(()=>{},[e.selectedIndex,e.queryJson]),!e.selectedIndex)return null;try{const t=Object.keys(JSON.parse(e.queryJson).query)[0]||"";t!==l&&(c(t),u(t))}catch(e){}const m=Object.keys(t).map((e,a)=>s.a.createElement("li",{className:"list-group-item pl-1 pr-1 pt-1 pb-0",key:a,onClick:t=>u(e)},s.a.createElement("a",{href:t[e],target:"_blank",className:"float-right"},s.a.createElement(p.a,null)),s.a.createElement(f,{pos:a,queryType:e,queryTypeDetail:i})));return s.a.createElement(s.a.Fragment,null,s.a.createElement("input",{className:"form-control",value:r,onChange:e=>u(e.target.value)}),s.a.createElement("div",{className:"list-group"},m));function u(t){e.selectedIndex&&(d(t),E(e.oss+"/ws/indexes/"+e.selectedIndex+"/search/queries/types?lookup="+t,null,t=>{!function(t){a(t);const n=Object.keys(t)[0]||"";n&&E(e.oss+"/ws/indexes/"+e.selectedIndex+"/search/queries/types/"+n,null,e=>{o(JSON.stringify(e,void 0,2))})}(t)}))}};var h=e=>{const[t,a]=Object(n.useState)(""),[l,c]=Object(n.useState)(""),[r,d]=Object(n.useState)(!1),[i,m]=Object(n.useState)("");return Object(n.useEffect)(()=>{},[e.selectedIndex]),s.a.createElement("div",{className:"tri-view"},s.a.createElement("div",{className:"bg-light text-secondary p-1"},"QUERYING ",s.a.createElement(o,{task:l,error:t,spinning:r})),s.a.createElement("div",{className:"central border bg-light"},s.a.createElement("div",{className:"left-column border bg-light"},s.a.createElement("div",{className:"query-json"},s.a.createElement(b,{value:e.queryJson,setValue:e.setQueryJson})),s.a.createElement("div",{className:"query-help"},s.a.createElement(x,{oss:e.oss,selectedIndex:e.selectedIndex,queryJson:e.queryJson}))),s.a.createElement("div",{className:"right-column border bg-light"},s.a.createElement(b,{value:i}))),s.a.createElement("form",{className:"form-inline pr-1 pb-1"},s.a.createElement("div",{className:"pt-1 pl-1"},s.a.createElement("button",{className:"btn btn-primary",onClick:()=>function(){if(null==e.selectedIndex||""===e.selectedIndex)return void a("Please select an index.");a(null),c("Parsing..."),d(!0);var t=null;try{t=S(e.queryJson),e.setQueryJson(JSON.stringify(t,void 0,2))}catch(e){return a(e.message),c(null),void d(!1)}c("Querying..."),E(e.oss+"/ws/indexes/"+e.selectedIndex+"/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e=>{m(JSON.stringify(e,void 0,2)),c("Query successful."),d(!1)},e=>{m(""),a(e),c(null),d(!1)})}()},"QUERY"))))};const v=e=>s.a.createElement("button",{className:"btn btn-danger shadow-none btn-block",type:"button",onClick:()=>e.doDelete(e.name)},"Delete"),g=e=>e.name?s.a.createElement("button",{className:"btn btn-primary shadow-none btn-block",type:"button",onClick:()=>e.doCreate(e.name)},"Create"):s.a.createElement("button",{className:"btn btn-primary shadow-none btn-block",type:"button",disabled:!0},"Create");var N=e=>e.name&&e.name===e.selectedName?s.a.createElement(v,{name:e.name,doDelete:e.doDelete}):s.a.createElement(g,{name:e.name,doCreate:e.doCreate});var y=e=>s.a.createElement("form",null,s.a.createElement("div",{className:"form-row p-1"},s.a.createElement("div",{className:"form-group col-md-6"},s.a.createElement("input",{type:"text",className:"form-control shadow-none",placeholder:"Index name",title:"The index name","aria-label":"index name","aria-describedby":"Enter the index name",value:e.indexName,onChange:t=>e.setIndexName(t.target.value)})),s.a.createElement("div",{className:"form-group col-md-4"},s.a.createElement("input",{type:"text",className:"form-control shadow-none",placeholder:"Primary key",title:"The primary key","aria-label":"primary key","aria-describedby":"Enter the primary key",value:e.primaryKey,onChange:t=>e.setPrimaryKey(t.target.value)})),s.a.createElement("div",{className:"form-group col-md-2"},s.a.createElement(N,{name:e.indexName,selectedName:e.selectedIndex,doDelete:t=>e.doDelete(t),doCreate:t=>e.doCreate(t)}))));const w=e=>{return e.selectedIndex===e.index?s.a.createElement("tr",{className:"table-active",onClick:()=>e.setSelectedIndex(e.index)},s.a.createElement("td",{className:"p-1 m-1"},e.index),s.a.createElement("td",{className:"p-1 m-1"},null==(t=e.selectedIndexStatus)||null==t.settings?null:t.settings.primary_key),s.a.createElement("td",{className:"p-1 m-1"},function(e){return null==e?null:e.num_docs}(e.selectedIndexStatus))):s.a.createElement("tr",{onClick:()=>e.setSelectedIndex(e.index)},s.a.createElement("td",{className:"p-1 m-1"},e.index),s.a.createElement("td",{colSpan:"2",title:"Select the line to see the primary key and the number of docs",className:"p-1 m-1"}));var t};var I=e=>{if(!e.indices)return null;const t=(Array.isArray(e.indices)?e.indices:Object.keys(e.indices)).map((t,a)=>s.a.createElement(w,{key:a,index:t,selectedIndex:e.selectedIndex,setSelectedIndex:e.setSelectedIndex,selectedIndexStatus:e.selectedIndexStatus,setSelectedIndexStatus:e.setSelectedIndexStatus}));return s.a.createElement("table",{className:"table table-hover table-sm table-striped table-light"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",null,"Index name"),s.a.createElement("th",{title:"Select an index to see the primary key"},"Primary key"),s.a.createElement("th",{title:"Select an index to see the number of documents"},"Num docs"))),s.a.createElement("tbody",null,t))};var O=function(e){const[t,a]=Object(n.useState)(""),[l,c]=Object(n.useState)(""),[r,d]=Object(n.useState)(!1),[i,m]=Object(n.useState)([]),[u,b]=Object(n.useState)(""),[S,p]=Object(n.useState)("id");return Object(n.useEffect)(()=>{f()},[]),s.a.createElement("div",{className:"border bg-light rounded"},s.a.createElement("div",{className:"bg-light text-secondary p-1"},"INDICES ",s.a.createElement(o,{task:t,error:l,spinning:r})),s.a.createElement(y,{indexName:u,setIndexName:e=>b(e),selectedIndex:e.selectedIndex,setPrimaryKey:e=>p(e),primaryKey:S,doCreate:t=>function(t){x("Creating index "+t),E(e.oss+"/ws/indexes/"+u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({primary_key:S,record_field:"$record$"})},a=>{h("Index created"),b(""),e.setSelectedIndex(t),f()},e=>h(null,e))}(t),doDelete:t=>function(t){x("Deleting index "+t),E(e.oss+"/ws/indexes/"+t,{method:"DELETE"},t=>{e.setSelectedIndex(null),h("Index deleted"),f()},e=>h(null,e))}(t)}),s.a.createElement(I,{indices:i,selectedIndex:e.selectedIndex,setSelectedIndex:function(t){e.setSelectedIndexStatus({}),function(t){if(!t)return null;x(),E(e.oss+"/ws/indexes/"+t,null,t=>{e.setSelectedIndexStatus(t),h()},e=>h(null,e))}(t),e.setSelectedIndex(t)},selectedIndexStatus:e.selectedIndexStatus,setSelectedIndexStatus:e.setSelectedIndexStatus}));function f(){x(),E(e.oss+"/ws/indexes",null,e=>{h(),m(e)},e=>h(null,e))}function x(e){d(!0),e&&(a(e),c(null))}function h(e,t){d(!1),e&&a(e),t?c(t):e&&c(null)}};var k=e=>s.a.createElement("div",{className:"index-view"},s.a.createElement(O,{oss:e.oss,selectedIndex:e.selectedIndex,setSelectedIndex:e.setSelectedIndex,selectedIndexStatus:e.selectedIndexStatus,setSelectedIndexStatus:e.setSelectedIndexStatus}));var j=e=>{const[t,a]=Object(n.useState)(!0),[l,c]=Object(n.useState)(!1),[r,d]=Object(n.useState)(!1),[i,o]=Object(n.useState)(!1),[m,u]=Object(n.useState)("text"),[b,E]=Object(n.useState)("");function S(e){const t="attr"+e.attributeKey;return s.a.createElement("div",{key:t,className:"form-check form-check-inline"},s.a.createElement("input",{className:"form-check-input",type:"checkbox",id:t,value:e.attributeKey,checked:e.checked,onChange:t=>e.setAttribute(t.target.checked)}),s.a.createElement("label",{className:"form-check-label",htmlFor:t},e.attributeLabel))}const p=["text","integer","long","double","float"].map(e=>s.a.createElement("option",{key:e,value:e},e));function f(e){return s.a.createElement("select",{className:"custom-select shadow-none rounded-0",value:e.value,onChange:t=>e.setValue(t.target.value)},p)}const x=["","lowercase","ascii","arabic","bulgarian","cjk","czech","danish","dutch","english","french","finnish","german","greek","hindi","hungarian","irish","italian","lithuanian","latvian","norwegian","polish","portuguese","romanian","russian","spanish","swedish","turkish"].map(e=>s.a.createElement("option",{key:e,value:e},e));function h(e){return s.a.createElement("select",{className:"custom-select shadow-none rounded-0",value:e.value,onChange:t=>e.setValue(t.target.value)},x)}return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"input-group p-1"},s.a.createElement("input",{type:"text",className:"form-control shadow-none rounded-0","aria-label":"edit field name","aria-describedby":"edit field name",value:e.editFieldName,onChange:t=>e.setEditFieldName(t.target.value)}),s.a.createElement("div",{className:"input-group-append"},s.a.createElement(f,{value:m,setValue:e=>u(e)}),s.a.createElement(h,{value:b,setValue:e=>E(e)}),s.a.createElement(N,{name:e.editFieldName,selectedName:e.selectedField,doDelete:t=>e.doDeleteField(t),doCreate:a=>{return n=a,void e.doCreateField(n,{type:m.toUpperCase(),stored:l,index:t,facet:r,sort:i,analyzer:""===b?null:b});var n}}))),s.a.createElement("div",{className:"p-1"},s.a.createElement(S,{checked:t,attributeKey:"index",attributeLabel:"indexed",setAttribute:e=>a(e)}),s.a.createElement(S,{checked:l,attributeKey:"stored",attributeLabel:"stored",setAttribute:e=>c(e)}),s.a.createElement(S,{checked:r,attributeKey:"facet",attributeLabel:"faceted",setAttribute:e=>d(e)}),s.a.createElement(S,{checked:i,attributeKey:"sort",attributeLabel:"sorted",setAttribute:e=>o(e)})))};var C=e=>e.value?s.a.createElement("span",{className:"badge badge-dark"},e.true):s.a.createElement("span",{className:"badge badge-light"},e.false);const J=e=>{if(Object(n.useEffect)(()=>{},[e.fields]),!e.fields)return null;const t=Object.keys(e.fields).map((t,a)=>s.a.createElement(F,{key:a,fieldName:t,fieldProperties:e.fields[t],selectedField:e.selectedField,doSelectField:t=>e.doSelectField(t)}));return s.a.createElement("table",{className:"table table-hover table-sm table-striped table-light"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",null,"Name"),s.a.createElement("th",null,"Type"),s.a.createElement("th",null,"Analyzer"),s.a.createElement("th",null,"Attributes"))),s.a.createElement("tbody",null,t))},F=e=>e.selectedField===e.fieldName?s.a.createElement("tr",{className:"table-active",onClick:()=>e.doSelectField(e.fieldName)},s.a.createElement(D,{fieldName:e.fieldName,fieldProperties:e.fieldProperties})):s.a.createElement("tr",{onClick:()=>e.doSelectField(e.fieldName)},s.a.createElement(D,{fieldName:e.fieldName,fieldProperties:e.fieldProperties})),D=e=>s.a.createElement(s.a.Fragment,null,s.a.createElement("td",{className:"p-1 m-0"},e.fieldName),s.a.createElement("td",{className:"p-1 m-0 text-lowercase"},e.fieldProperties.type),s.a.createElement("td",{className:"p-1 m-0 text-lowercase"},e.fieldProperties.analyzer),s.a.createElement("td",{className:"p-1 m-0"},s.a.createElement(C,{true:"indexed",false:"indexed",value:e.fieldProperties.index}),s.a.createElement(C,{true:"stored",false:"stored",value:e.fieldProperties.stored}),s.a.createElement(C,{true:"sorted",false:"sorted",value:e.fieldProperties.sort}),s.a.createElement(C,{true:"facet",false:"facet",value:e.fieldProperties.facet})));var V=e=>{const[t,a]=Object(n.useState)(""),[l,c]=Object(n.useState)(""),[r,d]=Object(n.useState)(!1),[i,m]=Object(n.useState)({}),[u,b]=Object(n.useState)("");return Object(n.useEffect)(()=>{S()},[e.selectedIndex]),e.selectedIndex?s.a.createElement("div",{className:"border p-0 mt-1 ml-1 bg-light rounded"},s.a.createElement("div",{className:"bg-light text-secondary p-1"},"FIELDS ",s.a.createElement(o,{task:t,error:l,spinning:r})),s.a.createElement(j,{editFieldName:u,setEditFieldName:e=>b(e),selectedField:e.selectedField,doCreateField:(t,a)=>function(t,a){p("Creating field "+t),E(e.oss+"/ws/indexes/"+e.selectedIndex+"/fields/"+t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)},a=>{f("Field created"),b(""),e.setSelectedField(t),S()},e=>f(null,e))}(t,a),doDeleteField:t=>function(t){p("Deleting field "+t),E(e.oss+"/ws/indexes/"+e.selectedIndex+"/fields/"+t,{method:"DELETE"},t=>{f("Field deleted"),e.setSelectedField(null),S()},e=>f(null,e))}(t)}),s.a.createElement(J,{oss:e.oss,fields:i,selectedField:e.selectedField,doSelectField:t=>e.setSelectedField(t)})):null;function S(){const t=e.selectedIndex;t&&(p(),E(e.oss+"/ws/indexes/"+t+"/fields",null,e=>{f(),m(e)},e=>f(null,e.message)))}function p(e){d(!0),e&&(a(e),c(null))}function f(e,t){d(!1),e&&a(e),t?c(t):e&&c(null)}};var P=e=>s.a.createElement("div",{className:"field-view"},s.a.createElement(V,{oss:e.oss,selectedIndex:e.selectedIndex,selectedField:e.selectedField,setSelectedField:e.setSelectedField}));var T=e=>{const[t,a]=Object(n.useState)(""),[l,c]=Object(n.useState)(""),[r,d]=Object(n.useState)(!1),[i,m]=Object(n.useState)("");return Object(n.useEffect)(()=>{e.indexJson||S()},[e.selectedIndex]),s.a.createElement("div",{className:"tri-view"},s.a.createElement("div",{className:"bg-light text-secondary p-1"},"INGEST ",s.a.createElement(o,{task:l,error:t,spinning:r})),s.a.createElement("div",{className:"central border bg-light"},s.a.createElement("div",{className:"left-column border bg-light"},s.a.createElement(b,{value:e.indexJson,setValue:e.setIndexJson})),s.a.createElement("div",{className:"right-column border bg-light"},s.a.createElement(b,{value:i}))),s.a.createElement("form",{className:"form-inline pr-1 pb-1"},s.a.createElement("div",{className:"pt-1 pl-1"},s.a.createElement("button",{className:"btn btn-outline-primary",onClick:()=>S()},"Generate example")),s.a.createElement("div",{className:"pt-1 pl-1"},s.a.createElement("button",{className:"btn btn-primary",onClick:()=>function(){if(!u())return;m(null),a(null),c("Parsing..."),d(!0);var t=null;try{t=function(){const t=e.indexJson;if(null===t||""===t)throw"Nothing to index";return JSON.parse(t)}(),e.setIndexJson(JSON.stringify(t,void 0,2))}catch(e){return a(e.message),c(null),void d(!1)}E(e.oss+"/ws/indexes/"+e.selectedIndex+"/json?fieldTypes=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e=>{var t;switch(m(JSON.stringify(e,void 0,2)),e.count){case 0:t="Nothing has been indexed.";break;case 1:t="One record has been indexed.";break;default:t=e.count+" records have been indexed."}c(t),d(!1)},e=>{a(e),c(null),d(!1)})}()},"INDEX"))));function u(){return null!=e.selectedIndex&&""!==e.selectedIndex||(a("Please select an index."),!1)}function S(){u()&&(a(null),m(null),c("Collecting sample..."),d(!0),E(e.oss+"/ws/indexes/"+e.selectedIndex+"/json/samples?count=1",{method:"GET"},t=>{e.setIndexJson(JSON.stringify(t,void 0,2)),c(null),d(!1)},e=>{a(e),c(null),d(!1)}))}};const q=e=>{const t=e.sessionStatus.start_time?new Date(e.sessionStatus.start_time).toLocaleString():null,a=e.sessionStatus.end_time?new Date(e.sessionStatus.end_time).toLocaleString():null,n=e.selectedSession===e.sessionName?"table-active":null;return s.a.createElement("tr",{className:n,onClick:()=>e.setSelectedSession(e.sessionName)},s.a.createElement("td",{className:"p-1 m-1"},e.sessionName),s.a.createElement("td",{className:"p-1 m-1"},e.sessionStatus.crawled),s.a.createElement("td",{className:"p-1 m-1"},t),s.a.createElement("td",{className:"p-1 m-1"},a))};var W=e=>{if(!e.sessions)return null;const t=Object.keys(e.sessions).map((t,a)=>s.a.createElement(q,{key:a,sessionName:t,selectedSession:e.selectedSession,setSelectedSession:e.setSelectedSession,sessionStatus:e.sessions[t]}));return s.a.createElement("table",{className:"table table-hover table-sm table-striped table-light"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",null,"Session name"),s.a.createElement("th",null,"Crawled"),s.a.createElement("th",null,"Start"),s.a.createElement("th",null,"End"))),s.a.createElement("tbody",null,t))};const _=e=>s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("input",{type:"text",className:"form-control",placeholder:"Session name","aria-label":"Session name","aria-describedby":"button-addon2",value:e.sessionEdit,onChange:t=>e.setSessionEdit(t.target.value)}),s.a.createElement("div",{className:"input-group-append"},s.a.createElement(N,{name:e.sessionEdit,selectedName:e.selectedSession,doDelete:t=>e.doDeleteSession(t),doCreate:t=>e.doCreateSession(t)})));var L=e=>{const[t,a]=Object(n.useState)(""),[l,c]=Object(n.useState)(""),[r,d]=Object(n.useState)(!1),[i,m]=Object(n.useState)([]),[u,p]=Object(n.useState)(""),[f,x]=Object(n.useState)("");return Object(n.useEffect)(()=>{h()},[]),s.a.createElement("div",{className:"tri-view"},s.a.createElement("div",{className:"bg-light text-secondary p-1"},"WEB CRAWLS ",s.a.createElement(o,{task:l,error:t,spinning:r})),s.a.createElement("div",{className:"central border bg-light"},s.a.createElement("div",{className:"left-column border bg-light"},s.a.createElement("div",{className:"query-json"},s.a.createElement(b,{value:e.webCrawlDefinition,setValue:e.setWebCrawlDefinition})),s.a.createElement(_,{sessionEdit:u,setSessionEdit:p,selectedSession:e.selectedWebSession,doCreateSession:t=>function(t){if(!t)return;const n=S(e.webCrawlDefinition);n.crawl_collector_factory="com.jaeksoft.opensearchserver.CrawlerCollector$Web",a(null),E(e.oss+"/ws/crawler/web/sessions/"+t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},e=>{h()},e=>a(e))}(t),doDeleteSession:t=>{return n=t,s=e.oss+"/ws/crawler/web/sessions/"+n+"/definition",l={method:"DELETE"},c=t=>{e.setSelectedWebSession(""),x(""),h()},(r=e=>a(e))||(r=console.log),void fetch(s,l).then(e=>Promise.all([e.ok,e.text()])).then(([e,t])=>e?c(t):r(t)).catch(e=>r(e.message));var n,s,l,c,r}}),s.a.createElement("div",{className:"query-help"},s.a.createElement(b,{value:f}))),s.a.createElement("div",{className:"right-column border bg-light"},s.a.createElement(W,{sessions:i,selectedSession:e.selectedWebSession,setSelectedSession:t=>function(t){if(!t)return;e.setSelectedWebSession(t),function(t){if(!t)return;a(null),E(e.oss+"/ws/crawler/web/sessions/"+t+"/definition",null,t=>{delete t.crawl_collector_factory,e.setWebCrawlDefinition(JSON.stringify(t,void 0,2))},e=>a(e))}(t),function(t){if(!t)return;a(null),E(e.oss+"/ws/crawler/web/sessions/"+t,null,e=>{x(JSON.stringify(e,void 0,2))},e=>a(e))}(t),h()}(t)}))));function h(){a(null),E(e.oss+"/ws/crawler/web/sessions",null,e=>{m(e)},e=>a(e))}};var A=e=>{switch(e.selectedView){case"Indices":return s.a.createElement(k,{oss:e.oss,selectedIndex:e.selectedIndex,setSelectedIndex:e.setSelectedIndex,selectedIndexStatus:e.selectedIndexStatus,setSelectedIndexStatus:e.setSelectedIndexStatus});case"Fields":return s.a.createElement(P,{oss:e.oss,selectedIndex:e.selectedIndex,setSelectedIndex:e.setSelectedIndex,indexJson:e.indexJson,setIndexJson:e.setIndexJson,selectedField:e.selectedField,setSelectedField:e.setSelectedField});case"Ingest":return s.a.createElement(T,{oss:e.oss,selectedIndex:e.selectedIndex,setSelectedIndex:e.setSelectedIndex,indexJson:e.indexJson,setIndexJson:e.setIndexJson});case"Query":return s.a.createElement(h,{oss:e.oss,selectedIndex:e.selectedIndex,setSelectedIndex:e.setSelectedIndex,queryJson:e.queryJson,setQueryJson:e.setQueryJson});case"Web Crawl":return s.a.createElement(L,{oss:e.oss,webCrawlDefinition:e.webCrawlDefinition,setWebCrawlDefinition:e.setWebCrawlDefinition,selectedWebSession:e.selectedWebSession,setSelectedWebSession:e.setSelectedWebSession});default:return null}};var Q=()=>{const[e]=Object(n.useState)("http://localhost:9090"),[t,a]=Object(n.useState)("Indices"),[l,c]=Object(n.useState)(""),[r,i]=Object(n.useState)({}),[o,m]=Object(n.useState)(""),[u,b]=Object(n.useState)(""),[E,S]=Object(n.useState)(""),[p,f]=Object(n.useState)(JSON.stringify({query:{MatchAllDocs:{}},returned_fields:["*"]},void 0,2)),[x,h]=Object(n.useState)(JSON.stringify({entry_url:"https://www.opensearchserver.com",max_depth:3,filters:{"https://www.opensearchserver.com":"accept","https://www.opensearchserver.com/*":"accept"},variables:{index:"test"},remove_fragments:!0},void 0,2));return s.a.createElement(s.a.Fragment,null,s.a.createElement(d,{oss:e,selectedIndex:l,selectedView:t,setSelectedView:a}),s.a.createElement("main",{className:"container-fluid main"},s.a.createElement(A,{oss:e,selectedView:t,selectedIndex:l,setSelectedIndex:function(e){c(e),m("")},selectedIndexStatus:r,setSelectedIndexStatus:i,selectedField:o,setSelectedField:m,indexJson:E,setIndexJson:S,queryJson:p,setQueryJson:f,webCrawlDefinition:x,setWebCrawlDefinition:h,selectedWebSession:u,setSelectedWebSession:b})))};Object(l.render)(s.a.createElement(s.a.StrictMode,null,s.a.createElement(Q,{className:"test"})),document.getElementById("root"))}},[[13,1,2]]]);